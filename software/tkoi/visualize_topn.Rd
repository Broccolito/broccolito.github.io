% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualize_topn.R
\name{visualize_topn}
\alias{visualize_topn}
\title{Visualize Top Network Enrichment Statistics}
\usage{
visualize_topn(
  tkoi_list,
  category = "BiologicalProcess",
  top_n = 25,
  ranknorm = FALSE,
  lognorm = TRUE,
  high_color = "#FF5733",
  low_color = "#154360"
)
}
\arguments{
\item{tkoi_list}{A \code{tKOIList} object containing network summary statistics.}

\item{category}{A character string specifying the category to visualize.
Default is \code{"BiologicalProcess"}.
Accepted values include:
\itemize{
\item \code{"Anatomy"}
\item \code{"BiologicalProcess"}
\item \code{"CellType"}
\item \code{"CellularComponent"}
\item \code{"ClinicalLab"}
\item \code{"Complex"}
\item \code{"Compound"}
\item \code{"Disease"}
\item \code{"EC"}
\item \code{"Gene"}
\item \code{"MiRNA"}
\item \code{"MolecularFunction"}
\item \code{"Pathway"}
\item \code{"Protein"}
\item \code{"ProteinDomain"}
\item \code{"ProteinFamily"}
\item \code{"PwGroup"}
\item \code{"Reaction"}.
}}

\item{top_n}{An integer specifying the number of top results to display. Default is 25.}

\item{ranknorm}{A logical value indicating whether to apply inverse rank-based normalization
to the \code{beta} values. Default is \code{FALSE}.}

\item{lognorm}{A logical value indicating whether to apply log base-2 transformation to the \code{beta}
values. Default is \code{TRUE}.}

\item{high_color}{A character string specifying the high value color for the gradient scale
representing \code{-log10(FDR)}. Default is \code{"#FF5733"}.}

\item{low_color}{A character string specifying the low value color for the gradient scale
representing \code{-log10(FDR)}. Default is \code{"#154360"}.}
}
\value{
A \code{ggplot} object representing the bar plot of top network enrichment statistics.
}
\description{
This function generates a bar plot to visualize the top \code{n} network enrichment results
for a specified category. The plot highlights the effect size (\code{beta}) and the false
discovery rate (\code{-log10(FDR)}), enabling quick assessment of the most enriched terms
or entities in the network.
}
\details{
The function performs the following steps:
\enumerate{
\item Extracts the top \code{n} entries from the specified category within the
\code{network_summary_statistics} slot of the \code{tKOIList} object.
\item Filters out entries with missing \code{beta} values.
\item Optionally applies transformations to the \code{beta} values:
\itemize{
\item If \code{ranknorm} is set to \code{TRUE}, applies inverse rank-based normalization.
\item If \code{lognorm} is set to \code{TRUE}, applies log base-2 transformation.
\item If both transformations are enabled, \code{ranknorm} is overridden and set to \code{FALSE}.
}
\item Adjusts very small \code{fdr} values to avoid extreme values in plotting.
\item If the category is \code{"Gene"}, the function joins additional metadata from the
\code{tkoi::genes} table to obtain gene names. For other categories, the \code{name} column
is used as the identifier.
\item Filters out entries with missing identifiers and ensures consistent ordering of identifiers for plotting.
\item Creates a horizontal bar plot where:
\itemize{
\item The x-axis represents the (possibly transformed) effect size (\code{beta}).
\item The y-axis represents the identifiers (e.g., terms or entities).
\item The color gradient of the bars represents \code{-log10(FDR)}, with customizable low and high colors.
}
}
}
\examples{
\dontrun{
# Visualize the top 10 Biological Processes with default transformations and colors
plt <- visualize_topn(tkoi_list, category = "BiologicalProcess", top_n = 10)
print(plt)

# Visualize the top 20 Genes with custom color gradient
plt <- visualize_topn(tkoi_list, category = "Gene", top_n = 20, high_color = "#E74C3C", low_color = "#3498DB")
print(plt)

# Visualize the top 15 Pathways without rank-based normalization or log transformation
plt <- visualize_topn(tkoi_list, category = "Pathway", top_n = 15, ranknorm = FALSE, lognorm = FALSE)
print(plt)

# Visualize the top 5 Diseases with rank-based normalization enabled
plt <- visualize_topn(tkoi_list, category = "Disease", top_n = 5, ranknorm = TRUE, lognorm = FALSE)
print(plt)
}

}
\seealso{
\code{\link[ggplot2]{ggplot}}, \code{\link[dplyr]{arrange}}, \code{\link[dplyr]{filter}}
}
